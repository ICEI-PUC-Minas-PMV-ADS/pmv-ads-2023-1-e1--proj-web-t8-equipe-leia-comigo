<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="img/logo_leia" href="/src/assets/img/Menu/logo_leia.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Leia Comigo</title>
    <link rel="stylesheet" href="/src/assets/css/styles.css"/>
    <script src="/src/assets/javascript/account.js"></script>
  </head>

  <body>
    <div class="body">
      <!-- nav -->
      <div id="nav" class="nav">
        <div class="main__menu">
          <img class="nav__logo" src="/src/assets/img/Menu/logo_leia.png" alt="" />
          <ul class="select_menu">
            <li class="components_li"><a href="/src/pages/home/index.html">Inicio</a></li>
            <li class="components_li"><a href="#">Livros</a></li>
            <li class="components_li"><a href="/src/pages/home/Podcasts.html">Podcasts</a></li>
            <li class="components_li"><a href="/src/pages/home/Artigos.html">Artigos</a></li>
            <li class="components_li"><a href="/src/pages/home/Reviews.html">Reviews</a></li>
          </ul>
        </div>

        <div class="accountGroup">
          <img class="nav__avatar" src="/src/assets/img/Menu/avatar.png" alt="" onmouseover="handleShowOptions()"
            onmouseout="handleUnshowOptions()" />
          <div class="box" onmouseover="handleShowOptions()" onmouseout="handleUnshowOptions()">
            <div class="options" onclick="handleLoadMyAccount()">Minha Conta</div>
  
            <div class="options" onclick="handleLoadLogin()">Entrar</div>
  
            <div class="options" onclick="handleLogout()">Sair</div>
          </div>
        </div>
      </div>

    
      <!-- header -->
      <header class="banner">
          <div class="banner__contents">
            <h1 class="banner__title">Peter Pan</h1>
            <div class="banner__buttons">
              <button class="banner__button">Ler</button>
            </div>
            <h1 class="banner__description">
              A história de Peter Pan nos mostra diversos e importantes valores, como por exemplo a amizade e a lealdade. O autor descreve muito bem a importância de brincar e de sonhar, mas também aborda temas como a descoberta da criança sobre o crescimento, as mudanças e também sobre o amadurecimento e suas responsabilidades.
            </h1>
          </div>
        <div class="banner--fadeBottom"></div>
      </header>

      <div class="titulos">
        <h2>Livros</h2>
      </div>

      <div class="carousel" id="books">
      </div>
      <div class="titulos">
        <h2>Podcasts</h2>
      </div>

      <div class="carousel" id="podcasts">
      </div>

      <div class="titulos">
        <h2>Artigos</h2>
      </div>

      <div class="carousel" id="articles">
      </div>

      <div class="titulos">
        <h2>Reviews</h2>
      </div>

      <div class="carousel" id="reviews">
      </div>

    </div>

    
    <div class="popup">
      <div class="modal">
        <div class="closeIcon" onclick="handleCloseMyAccount()">X</div>
        <div class="modalTitle">Informações da conta</div>
        <div class="modalContent">
          <div class="infoBox">
            <div class="personalInfo">
              <label>Usuário: </label>
              <input type="text" class="value" id="nome" disabled></input>
            </div>

            <div class="personalInfo">
              <label>E-mail:</label>
              <input type="email" class="value" id="gmail" disabled></input>
            </div>

            <div class="personalInfo">
              <label>Senha:</label>
              <input type="password" class="value" id="senha" disabled>
                
              </input>
              <img class="eyeOff" src="/src/assets/img/images/eyeOff.svg" alt="">
            </div>

          </div>

          <img class="profileIcon" src="/src/assets/img/Menu/avatar.png" alt="">
        </div>
      </div>
    </div>

    <div class="box-form">
      <div class="box-form-login">
        <div class="closeForm" onclick="handleCloseForm()">X</div>

        <h2>Login</h2>
        <form action="#" class="formulario">
          <div class="inputForm">
            <input type="mail" id="lEmail" placeholder="Preencha com seu e-mail" />
          </div>

          <div class="inputForm">
            <input type="password" id="lPassword" placeholder="Senha" />
          </div>
          <button onClick="handleLogin()">Entrar</button>
          <div class="registre-se">Ainda não possui uma conta? <span class="register-link"
              onclick="handleRegisterForm()">Registre-se</span></div>
        </form>
      </div>

      <div class="box-form-registrar">
        <div class="closeForm" onclick="handleCloseForm()">X</div>

        <h2>Registrar</h2>
        <form action="#">
          <div class="inputForm">
            <input type="name" id="rName" placeholder="Nome de usuário" />
          </div>

          <div class="inputForm">
            <input type="mail" id="rEmail" placeholder="Preencha com seu e-mail" />
          </div>


          <div class="inputForm">
            <input type="password" id="rPassword" placeholder="Senha" />
          </div>
          <button onclick="handleRegister()">Criar conta</button>
          <div class="registre-se">Já possui uma conta? <span class="login-link"
              onclick="handleLoginForm()">Logue</span></div>
        </form>
      </div>
    </div>
    <!-- Footer -->
    <div class="main_footer">
      <ul class="list_of_footers">
        <li class="footer_list"><a href="#">Avisos legais</a></li>
        <li class="footer_list"><a href="#">Termos de Uso</a></li>
        <li class="footer_list"><a href="#">Entre em contato</a></li>
      </ul>
    </div>
    <script src="/src/assets/javascript/scripts.js"></script>
    <script src="/src/assets/javascript/home.js"></script>
    <script>
      // Lógica dos formulários de login e registrar
      const registerLink = document.querySelector('.register-link')
      const loginLink = document.querySelector('.login-link')

      const login = document.querySelector('.box-form-login')
      const register = document.querySelector('.box-form-registrar')
      const form = document.querySelector('.box-form')

      const inputPassword = document.querySelector('#senha')


      const handleRegisterForm = () => {
        login.style.display = 'none'
        register.style.display = "inline"
      }

      const handleLoginForm = () => {
        login.style.display = 'inline'
        register.style.display = 'none'
      }

      const handleLogin = () => {
        const email = document.querySelector('#lEmail')
        const senha = document.querySelector('#lPassword  ')

        if (!email.value || !senha.value) {
          alert('Preencha todos os campos para prosseguir')
          return
        }
        const result = handleDoLogin(email.value, senha.value)

        if (result.error !== 0) {
          alert(result.msg)
          return
        }

        form.style.display = 'none'

      }

      const handleRegister = () => {
        const email = document.querySelector('#rName')
        const name = document.querySelector('#rName')
        const password = document.querySelector('#rPassword')

        if (!email.value || !name.value || !password.value) {
          alert('Preencha todas as informações para prosseguir')
          return
        }

        const result = handleDoRegister(email.value, password.value, name.value)

        if (result.error !== 0) {
          alert(result.msg)
          return
        }

        form.style.display = 'none'
        register.style.display = 'none'
        login.style.display = 'block'
      }

      document.querySelector('.eyeOff').addEventListener('click', () => {
        const type = inputPassword.getAttribute('type') == 'password' ? 'text' : 'password'
        inputPassword.setAttribute('type', type)

        const img = document.querySelector('.eyeOff')

        type == 'text'
          ? img.src = '/src/assets/img/images/eyeOn.svg'
          : img.src = '/src/assets/img/images/eyeOff.svg'

      })

      document.querySelector('.closeForm').addEventListener('click', () => {
        form.style.display = 'none'
      })

      const handleCloseForm = () => {
        form.style.display = 'none'
        register.style.display = 'none'
        login.style.display = 'block'
      }

    </script>
  </body>
</html>